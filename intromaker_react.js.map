{"version":3,"sources":["../intromaker.js"],"names":["WEBSOCKET_LOCATION","AudioComponent","props","state","ws","WebSocket","onopen","ev","send","JSON","stringify","audioLink","onmessage","data","Blob","setState","parse","hasOwnProperty","loading","title","waveform","React","Component","detectMouseWheelDirection","e","delta","direction","window","event","wheelDelta","detail","PeaksComponent","segment","ReactDOM","render","URL","createObjectURL","document","getElementById","instance","peaks","init","container","mediaElement","dataUri","type","showPlayheadTime","zoomLevels","handlePlayButtonClick","bind","handleSegment","handleDownload","addEventListener","preventDefault","zoom","zoomOut","zoomIn","component","playing","player","pause","playSegment","segments","getSegment","play","add","getCurrentTime","removeAll","link","startTime","endTime","saveAs","downloading","VolumeBar","slider","Slider","reversed","Loading","checkForEnter","keyCode","which","submit","input","value","PickAudioComponent","subText","JumbotronComponent","leadText","children","renderReact"],"mappings":"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","file":"intromaker.js","sourcesContent":["const WEBSOCKET_LOCATION = \"wss://intro.ohminator.com:8080/\";\r\n\r\nclass AudioComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.props = props;\r\n    this.state = {'loading': true, 'data': null, 'waveform': null, 'title': null};\r\n    this.ws = new WebSocket(WEBSOCKET_LOCATION);\r\n\r\n    this.ws.onopen = (ev) => {\r\n      this.ws.send(JSON.stringify({'type': 'get_audio', 'data': {'link': this.props.audioLink}}));\r\n    };\r\n\r\n    this.ws.onmessage = (ev) => {\r\n      if (ev.data instanceof Blob) {\r\n        this.setState({'data': ev.data})\r\n      } else {\r\n        let data = JSON.parse(ev.data);\r\n        if (data.hasOwnProperty('type') && data['type'] === 'audio_data') {\r\n          this.setState({\r\n            'loading': false,\r\n            'waveform': JSON.stringify(data['data']['waveform']),\r\n            'title': data['data']['title']\r\n          })\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return <Loading/>;\r\n    } else {\r\n      return (\r\n        <PeaksComponent title={this.state.title} data={this.state.data} waveform={this.state.waveform} link={this.props.audioLink}/>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nfunction detectMouseWheelDirection( e )\r\n{\r\n    var delta = null,\r\n        direction = false\r\n    ;\r\n    if ( !e ) { // if the event is not provided, we get it from the window object\r\n        e = window.event;\r\n    }\r\n    if ( e.wheelDelta ) { // will work in most cases\r\n        delta = e.wheelDelta / 60;\r\n    } else if ( e.detail ) { // fallback for Firefox\r\n        delta = -e.detail / 2;\r\n    }\r\n    if ( delta !== null ) {\r\n        direction = delta > 0 ? 'up' : 'down';\r\n    }\r\n\r\n    return direction;\r\n}\r\n\r\nclass PeaksComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {'playing': false, segment: false, 'downloading': false};\r\n    ReactDOM.render(\r\n      <source src={URL.createObjectURL(this.props.data)} type={\"audio/mp3\"}/>,\r\n      document.getElementById('audio')\r\n    );\r\n\r\n    ReactDOM.render(\r\n      <h1 className={\"display-3\"}>{this.props.title}</h1>,\r\n      document.getElementById('title')\r\n    );\r\n\r\n    let instance = peaks.init({\r\n      container: document.getElementById('peaks-container'),\r\n      mediaElement: document.getElementById('audio'),\r\n      dataUri: URL.createObjectURL(new Blob([this.props.waveform], {type: 'application/json'})),\r\n      showPlayheadTime: true,\r\n      zoomLevels: [64, 128, 256, 512, 1024, 2048, 4096]\r\n    });\r\n\r\n    this.instance = instance;\r\n    this.handlePlayButtonClick = this.handlePlayButtonClick.bind(this);\r\n    this.handleSegment = this.handleSegment.bind(this);\r\n    this.handleDownload = this.handleDownload.bind(this);\r\n\r\n    document.getElementById('peaks-container').addEventListener('wheel', (ev) => {\r\n      ev.preventDefault();\r\n      let direction = detectMouseWheelDirection(ev);\r\n      if (direction === 'down') {\r\n        instance.zoom.zoomOut();\r\n      } else if (direction === 'up') {\r\n        instance.zoom.zoomIn();\r\n      }\r\n    });\r\n\r\n    let component = this;\r\n    document.getElementById('audio').addEventListener('pause', (ev) => {\r\n      component.setState({'playing': false})\r\n    });\r\n  }\r\n\r\n  handlePlayButtonClick() {\r\n    if (this.state.playing) {\r\n        this.instance.player.pause();\r\n    } else {\r\n      if (this.state.segment) {\r\n        this.instance.player.playSegment(this.instance.segments.getSegment(1));\r\n      } else {\r\n        this.instance.player.play();\r\n      }\r\n    }\r\n    this.setState({'playing': !this.state.playing})\r\n  }\r\n\r\n  handleSegment() {\r\n    if (!this.state.segment) {\r\n      this.instance.segments.add({\r\n        'startTime': this.instance.player.getCurrentTime(),\r\n        'endTime': this.instance.player.getCurrentTime()+5,\r\n        'editable': true,\r\n        'color': '#007bff',\r\n        'labelText': 'Audio segment to download',\r\n        'id': 1\r\n      });\r\n    } else {\r\n      this.instance.segments.removeAll();\r\n    }\r\n    this.setState({segment: !this.state.segment})\r\n  }\r\n\r\n  handleDownload() {\r\n    if (this.state.segment) {\r\n      this.ws = new WebSocket(WEBSOCKET_LOCATION);\r\n\r\n      let segment = this.instance.segments.getSegment(1);\r\n\r\n      this.ws.onopen = (ev) => {\r\n        this.setState({'downloading': true});\r\n        this.ws.send(JSON.stringify({\r\n          'type': 'cut_audio',\r\n          'data': {'link': this.props.link, 'start_pos': segment.startTime, 'end_pos': segment.endTime}\r\n        }));\r\n      };\r\n\r\n      this.ws.onmessage = (ev) => {\r\n        this.setState({'downloading': false});\r\n        saveAs(ev.data, this.props.title + \".mp3\")\r\n      };\r\n    } else {\r\n      saveAs(this.props.data, this.props.title + \".mp3\")\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={\"row justify-content-md-center\"}>\r\n        <div className={\"col-6\"}>\r\n          <div className={\"row\"}>\r\n            {this.state.playing && <button type={\"button\"} onClick={this.handlePlayButtonClick} className={\"btn btn-primary btn-lg mr-3\"}><i className={\"fas fa-pause\"}/></button>}\r\n            {!this.state.playing && <button type={\"button\"} onClick={this.handlePlayButtonClick} className={\"btn btn-primary btn-lg mr-3\"}><i className={\"fas fa-play\"}/></button>}\r\n            {this.state.segment && <button type={\"button\"} onClick={this.handleSegment} className={\"btn btn-primary btn-lg\"}><i className={\"fas fa-minus\"}/>  Remove Segment</button>}\r\n            {!this.state.segment && <button type={\"button\"} onClick={this.handleSegment} className={\"btn btn-primary btn-lg\"}><i className={\"fas fa-plus\"}/>  Insert Segment</button>}\r\n          </div>\r\n        </div>\r\n        <div className={\"col\"}>\r\n          <button type={\"button\"} onClick={!this.state.downloading ? this.handleDownload : null} className={\"btn btn-primary btn-lg\"} disabled={this.state.downloading}><i className={\"fas fa-download\"}/>{this.state.downloading ? \"  Downloading...\" : this.state.segment ? \"  Download Segment\" : \"  Download Whole Audio\"}</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass VolumeBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.slider = new Slider(\"#volume\", {reversed: true})\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <input id=\"volume\" type={\"text\"} data-slider-min={\"-5\"} data-slider-max={\"20\"} data-slider-step={\"1\"}\r\n               data-slider-value={\"-3\"} data-slider-orientation={\"vertical\"}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction Loading(props) {\r\n  return (\r\n    <div className={\"overlay\"}>\r\n      <div className={\"m-loader mr-20\"}>\r\n        <svg className={\"m-circular\"} viewBox={\"25 25 50 50\"}>\r\n          <circle className={\"path\"} cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" strokeWidth=\"4\" strokeMiterlimit=\"10\"/>\r\n        </svg>\r\n      </div>\r\n      <h3 className={\"l-text\"}>Loading...</h3>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction checkForEnter(ev) {\r\n  if (ev.keyCode === 13 || ev.which === 13) {\r\n    submit(ev);\r\n  }\r\n}\r\n\r\nfunction submit() {\r\n  let input = document.getElementById('link');\r\n  ReactDOM.render(\r\n    <AudioComponent audioLink={input.value}/>,\r\n    document.getElementById('container')\r\n  );\r\n}\r\n\r\n\r\nfunction PickAudioComponent(props) {\r\n  return(\r\n    <div>\r\n      <p>{props.subText}</p>\r\n      <div className={\"input-group mb-3\"}>\r\n          <input type={\"text\"} id={\"link\"} className={\"form-control\"} placeholder={\"Audio link\"} onKeyPress={checkForEnter} aria-label=\"Audio link\" aria-describedby=\"basic-addon2\"/>\r\n          <div className={\"input-group-append\"}>\r\n            <button className={\"btn btn-primary\"} type={\"button\"} onClick={submit}>Submit</button>\r\n          </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction JumbotronComponent(props) {\r\n  return (\r\n    <div className={\"jumbotron\"}>\r\n      <h1 className={\"display-4\"}>{props.title}</h1>\r\n      <p className={\"lead\"}>{props.leadText}</p>\r\n      <hr className={\"my-4\"}/>\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction renderReact() {\r\n  ReactDOM.render(\r\n    <JumbotronComponent title={\"Intromaker\"} leadText={\"Welcome to intromaker\"} >\r\n      <PickAudioComponent subText={\"Drag and drop a link to type into the box below\"}/>\r\n    </JumbotronComponent>,\r\n    document.getElementById('container')\r\n  );\r\n}\r\n\r\nfunction init() {\r\n  renderReact();\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', init, false);\r\n"]}